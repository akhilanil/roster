<mat-horizontal-stepper linear #stepper>
  <mat-step [stepControl]="initalFormGroup" label="ONE">
      <form novalidate #initalForm = ngForm (ngSubmit)="onInitSubmit()" [formGroup]="initalFormGroup">
      <ng-template matStepLabel>{{initStepLabel}}</ng-template>

      <div class="container title">
        <div class="">
          <mat-form-field floatLabel="auto" >
            <!-- Title input field -->
            <mat-label>{{titleInputLabel}}</mat-label>
            <input matInput [formControl]="titleControl" maxlength="14" required>
            <mat-error *ngIf="titleControl.invalid ">{{getTitleErrroMessage()}}</mat-error>
          </mat-form-field>
        </div>

      </div>

      <div class="container year-month">
        <div class="">
          <mat-form-field>
            <!-- Year Drop down -->
            <mat-select [placeholder]="yearLabel"
                        [formControl]="yearControl"
                        (selectionChange)="yearOrMonthSelect($event)"
                        [aria-label]="yearAriaLabel"
                        required>
              <mat-option *ngFor="let year of yearDropDown" [value]="year.value">
                {{year.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="yearControl.invalid">{{getYearErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>
        <div >
          <mat-form-field>
            <!-- Month Drop down -->
            <mat-select [placeholder]="monthLabel"
                        [formControl]="monthControl"
                        (selectionChange)="yearOrMonthSelect($event)"
                        [aria-label]="monthAriaLabel"
                        required>
              <mat-option *ngFor="let month of monthDropDown" [value]="month.value">
                {{month.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="monthControl.invalid">{{getMonthErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>
      </div>

      <!-- Slider -->
      <div class="container slider-container">
        <div class="">
          <mat-slide-toggle labelPosition = 'before'
                            formControlName="saturdayToggle"
                            (change)="weekendSlideToggle($event)">
            {{saturdaysIncludedLabel}}
          </mat-slide-toggle>
        </div>
        <div class="">
          <mat-slide-toggle labelPosition = 'before'
                            formControlName="sundayToggle"
                            (change)="weekendSlideToggle($event)">
            {{sundaysIncludedLabel}}
          </mat-slide-toggle>
        </div>
      </div>

      <div class="container">
        <div class="">
          <mat-form-field>
            <!-- Holiday Drop down -->
            <mat-select [placeholder]="holidayLabel"
                        [formControl]="holidayControl"
                        [disabled] = "!(monthControl.dirty && yearControl.dirty)"
                        multiple>
              <mat-select-trigger>
                {{holidayControl.value ? holidayControl.value[0] : ''}}
                <span *ngIf="holidayControl.value?.length > 1" >
                  (+{{holidayControl.value.length - 1}} more)
                </span>
              </mat-select-trigger>
              <mat-option *ngFor="let holiday of holidaysDropDown" [value]="holiday.value">
                {{holiday.name}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="monthControl.invalid">{{getMonthErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="container session-participant">
        <div class="">
          <mat-form-field>
          <!-- Session number  Drop down -->
            <mat-select [placeholder]="totalSessionLabel"
                        [formControl]="totalSessionControl"
                        (selectionChange)="onSessionSelected($event)"
                        required>
                        <mat-option *ngFor="let participant of totalSessionDropDown" [value]="participant.value">
                          {{participant.name}}
                        </mat-option>
            </mat-select>
            <mat-error *ngIf="totalSessionControl.invalid">{{getSessionErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>
        <div class="">
          <mat-form-field>
            <!-- Participants number  Drop down -->
              <mat-select [placeholder]="totalParticipaLabel"
                          [formControl]="totalParticipantControl"
                          required>
                <mat-option *ngFor="let participant of totalParticipantDropDown" [value]="participant.value">
                  {{participant.name}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="totalParticipantControl.invalid">{{getParticipantErrorMessage()}}</mat-error>
            </mat-form-field>
        </div>
      </div>
      <div class="container">
        <button mat-raised-button color="primary" matStepperNext>Next</button>
      </div>
    </form>
  </mat-step>
  <mat-step *ngIf = "secondFormGroup" [stepControl]="secondFormGroup">
    <form novalidate #initalForm = ngForm (ngSubmit)="onSecondSubmit()" [formGroup]="secondFormGroup">
      <ng-template matStepLabel>{{secondStepLabel}}</ng-template>
      <div class="container participants">
        <div *ngFor="let participant of totalParticipants">
          <mat-form-field floatLabel="auto" >

            <mat-label>{{participant.displayLabel}}</mat-label>
            <input matInput [formControlName]="participant.formControlName" maxlength="14" >
            <mat-error *ngIf="participant.formControlName.errors?.required ">{{getParticipantRequiredErrorMessage()}}</mat-error>
            <mat-error *ngIf="participant.formControlName.errors?.maxLength ">{{getParticipantLengthErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="container sessions">
        <div *ngFor="let session of totalSessions">
          <mat-form-field floatLabel="auto" >
            <mat-label>{{session.displayLabel}}</mat-label>
            <input matInput [formControlName]="session.formControlName" maxlength="14" >
            <mat-error *ngIf="session.formControlName.errors?.required ">{{getSessionRequiredErrorMessage()}}</mat-error>
            <mat-error *ngIf="session.formControlName.errors?.maxLength ">{{getSessionLengthErrorMessage()}}</mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="container">
        <div class="">
            <button mat-raised-button color="primary" matStepperPrevious>Back</button>
        </div>
        <div class="">
            <button mat-raised-button color="primary" matStepperNext>Next</button>
        </div>

      </div>
    </form>
  </mat-step>
</mat-horizontal-stepper>
